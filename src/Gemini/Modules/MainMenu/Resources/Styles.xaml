<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:Gemini.Modules.MainMenu.Controls"
                    xmlns:converters="clr-namespace:Gemini.Modules.Shell.Converters">
    <converters:NullableValueConverter x:Key="NullableValueConverter" />

    <Style x:Key="MenuItem" TargetType="{x:Type controls:MenuItemEx}">
        <Setter Property="InputGestureText" Value="{Binding InputGestureText}" />
        <Setter Property="IsCheckable" Value="{Binding IsChecked, Mode=OneWay}" />
        <Setter Property="IsChecked" Value="{Binding IsChecked, Mode=OneWay}" />
        <Setter Property="Command" Value="{Binding Command}" />
        <Style.Triggers>
            <DataTrigger Binding="{Binding HasIcon}" Value="True">
                <Setter Property="Icon">
                    <Setter.Value>
                        <Image Source="{Binding IconSource, Converter={StaticResource NullableValueConverter}}" />
                    </Setter.Value>
                </Setter>
            </DataTrigger>
        </Style.Triggers>
    </Style>

	<HierarchicalDataTemplate x:Key="menuTemplate" ItemsSource="{Binding Children}">
		<ContentPresenter Content="{Binding Path=Text}" RecognizesAccessKey="True" />
	</HierarchicalDataTemplate>
</ResourceDictionary>